<form class="form" [formGroup]="form" (ngSubmit)="submit()">
  <mat-form-field>
    <mat-label>Choose food</mat-label>
    <mat-select formControlName="food">
      @for (food of foods; track food) {
      <mat-option [value]="food.value">{{ food.viewValue }} </mat-option>
      }
    </mat-select>
  </mat-form-field>

  <app-choose-quantity
    [increment]="10"
    formControlName="totalQuantity"
  ></app-choose-quantity>

  @if (form.get('totalQuantity')?.hasError('mustBePositive')) {
  <mat-error class="center"> Quantity must be positive! </mat-error>
  } @if (form.get('totalQuantity')?.hasError('max')) {
  <mat-error class="center"> Quantity must not exceed 100! </mat-error>
  }

  <mat-form-field appearance="fill">
    <mat-label>Write a comment</mat-label>
    <input matInput placeholder="Your comment" formControlName="comment" />
  </mat-form-field>

  <button type="submit" mat-flat-button>Submit</button>
</form>

@if (orderInfo) {
<h3>Order info</h3>
<pre>{{ orderInfo | json }}</pre>
}
